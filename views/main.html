{% extends 'layout.html' %}
<!-- 'layout.html' 레이아웃 확장 -->

{% block content %}
    <section class="main">
        <section class="main_header">
            <div class="game_mode_select_box">
                <button class="game_mode_select selected" id="all_games">전체</button>
                <button class="game_mode_select" id="general_games">일반</button>
                <button class="game_mode_select" id="rank_games">랭크</button>
            </div>
        </section>
        <div class="dlvider"></div>
        <section class="main_body">
            <section class="left" id="main_left">
                <!-- 숙련도 -->

                <!-- 라인 -->

                <!-- 친구 -->
            </section>

            <section class="right">
                <div id="main_rigth">
                    <!-- 전적 -->
                </div>
                <div class="games" id="games">
                    <!-- game_20 -->
                    {% for match in matchs %}
                    <div class="game">
                        <input type="hidden" value="{{match.User.id}}" class="match-user-id">
                        <!-- 사용자 id -->
                        <input type="hidden" value="{{match.User.id}}" class="match-user-id">
                        <!-- 매치 정보 id -->
                        <div class="top">
                            <div class="flex ${game_result}_game" id="game_${game_index}">

                                <div class="game_info">
                                    <p id="game_mode">${game_mode}</p>
                                    <p id="game_date">${target_days}</p>
                                    <div class="dlvider"></div>
                                    <p id="game_result">${game_result_text}</p>
                                    <p id="game_time">${game_minutes}분 ${game_seconds}초</p>
                                </div>

                                <div class="champion_info">
                                    <div class="top">
                                        <div class="champion_icon_level_box">
                                            <div class="champion_icon_box">
                                                <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/champion/${target_player.championName}.png" alt="" id="champion_icon">
                                            </div>
                                            <p id="champion_level">${target_player.champLevel}</p>
                                        </div>
                            
                                        <div class="spell_info">
                                            <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/spell/${spell_dic[target_player.summoner1Id]}.png" alt="" id="spell_f" class="spell">
                                            <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/spell/${spell_dic[target_player.summoner2Id]}.png" alt="" id="spell_d" class="spell">
                                        </div>
                            
                                        <div class="rune_info">
                                            <div class="rune_background"><img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/perk/${target_player.perks.styles[0].selections[0].perk}.png" alt="" id="main_rune" class="rune"></div>
                                            <div class="rune_background"><img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/perkStyle/${target_player.perks.styles[1].style}.png" alt="" id="sub_rune" class="rune"></div>
                                        </div>
                            
                                        <div class="kda_info">
                                            <p class="kda"><span id="kill_score">${target_player.kills}</span> / <span id="death_score">${target_player.deaths}</span> / <span id="assist_score">${target_player.assists}</span></p>
                                            <p class="kda_score"><span id="kda_score">${target_player.challenges.kda.toFixed(1)}</span> KDA</p>
                                        </div>
                                    </div>
                            
                                    <div class="bottom">
                                        <div class="items_info">
                                            <div class="item" id="item_0">
                                                <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/item/${target_player.item0}.png" id="itme_0" onerror="this.style.display='none'">
                                            </div>
                                            <div class="item">
                                                <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/item/${target_player.item1}.png" id="itme_1" onerror="this.style.display='none'">
                                            </div>
                                            <div class="item">
                                                <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/item/${target_player.item2}.png" id="itme_2" onerror="this.style.display='none'">
                                            </div>
                                            <div class="item">
                                                <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/item/${target_player.item3}.png" id="itme_3" onerror="this.style.display='none'">
                                            </div>
                                            <div class="item">
                                                <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/item/${target_player.item4}.png" id="itme_4" onerror="this.style.display='none'">
                                            </div>
                                            <div class="item">
                                                <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/item/${target_player.item5}.png" id="itme_5" onerror="this.style.display='none'">
                                            </div>
                                            <div class="item">
                                                <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/item/${target_player.item6}.png" id="ward" onerror="this.style.display='none'">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="verticalline"></div>

                                <div class="main_game_info">
                                    <div class="game_score">
                                        <p><span>딜량</span> ${dps_rank}등</p>
                                        <p><span>분당</span> ${((target_player.totalMinionsKilled + target_player.totalEnemyJungleMinionsKilled + target_player.totalAllyJungleMinionsKilled)/game_minutes).toFixed(1)} CS</p>
                                        <p><span>킬관여</span> ${((100/team_kill)*(target_player.kills+target_player.assists)).toFixed(0)} %</p>
                                    </div>
                                    <div class="multi_kill" id="multi_kill_${game_index}">
                                    </div>
                                </div>

                                <div class="player_10">
                                    <div class="blue_team team" id="blue_p5_${game_index}">

                                        <!-- 5번 반복 -->
                                        <div class="player">
                                            <div class="champion_icon_box blue_icon">
                                                <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/champion/${player.championName}.png" alt="" id="champion_icon">
                                            </div>
                                            <div class="player_10_name">
                                                <p class="player_name ${bold}">${player_name}</p>
                                                <div class="progress-bar">           
                                                    <div class="blue_bar" ${dps_bar}></div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="red_team team" id="red_p5_${game_index}">

                                        <!-- 5번 반복 -->
                                        <div class="player">
                                            <div class="player_10_name">
                                                <p class="player_name ${bold}">${player_name}</p>
                                                <div class="progress-bar">           
                                                    <div class="red_bar" ${dps_bar}></div>
                                                </div>
                                            </div>
                                            <div class="champion_icon_box red_icon">
                                                <img src="https://opgg-static.akamaized.net/meta/images/lol/14.14.1/champion/${player.championName}.png" alt="" id="champion_icon">
                                            </div>
                                        </div>

                                    </div>
                                </div>

                            </div>
                            <div class="advanced_info_btn ${game_result}_info_btn">
                                <p class="material-icons" id="advanced_expand">expand_less</p>
                            </div>

                        </div>
                    {% endfor %}
                    </div>
                
                </div>
            </section>
        </section>
    </section>
{% endblock %}
</body>
</html>